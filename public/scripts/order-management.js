const updateOrderForms=document.querySelectorAll(".order-actions form"),orderBadge=document.querySelector(".order-badge");async function updateOrder(e){e.preventDefault();const t=e.target,r=new FormData(t),o=r.get("status"),n=r.get("orderid"),a=r.get("_csrf");let d;try{d=await fetch(`/admin/orders/${n}`,{method:"PATCH",body:JSON.stringify({newStatus:o,_csrf:a}),headers:{"Content-Type":"application/json"}})}catch(e){return void alert("Nesto nije u redu")}if(!d.ok)return void alert("Nesto nije u redu");const s=await d.json();t.parentElement.parentElement.querySelector(".order-badge").textContent=s.newStatus.toUpperCase()}for(const e of updateOrderForms)e.addEventListener("submit",updateOrder);